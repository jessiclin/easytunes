{"ast":null,"code":"import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component, cloneElement, isValidElement, createRef } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\nimport ProgressBar from './ProgressBar';\nimport CurrentTime from './CurrentTime';\nimport Duration from './Duration';\nimport VolumeBar from './VolumeBar';\nimport { RHAP_UI } from './constants';\nimport { throttle, getMainLayoutClassName, getDisplayTimeBySeconds } from './utils';\n\nvar H5AudioPlayer = function (_Component) {\n  _inheritsLoose(H5AudioPlayer, _Component);\n\n  function H5AudioPlayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"audio\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"progressBar\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastVolume\", _this.props.volume);\n\n    _defineProperty(_assertThisInitialized(_this), \"listenTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"volumeAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"downloadProgressAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      e.stopPropagation();\n      var audio = _this.audio.current;\n\n      if (audio.paused && audio.src) {\n        _this.playAudioPromise();\n      } else if (!audio.paused) {\n        audio.pause();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playAudioPromise\", function () {\n      _this.audio.current.play().then(null).catch(function (err) {\n        var onPlayError = _this.props.onPlayError;\n        onPlayError && onPlayError(new Error(err));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", function () {\n      var audio = _this.audio.current;\n      if (!audio) return false;\n      return !audio.paused && !audio.ended;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (e) {\n      _this.forceUpdate();\n\n      _this.props.onPlay && _this.props.onPlay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePause\", function (e) {\n      if (!_this.audio) return;\n\n      _this.forceUpdate();\n\n      _this.props.onPause && _this.props.onPause(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAbort\", function (e) {\n      _this.props.onAbort && _this.props.onAbort(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickVolumeButton\", function () {\n      var audio = _this.audio.current;\n\n      if (audio.volume > 0) {\n        _this.lastVolume = audio.volume;\n        audio.volume = 0;\n      } else {\n        audio.volume = _this.lastVolume;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMuteChange\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickLoopButton\", function () {\n      _this.audio.current.loop = !_this.audio.current.loop;\n\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickRewind\", function () {\n      var _this$props = _this.props,\n          progressJumpSteps = _this$props.progressJumpSteps,\n          progressJumpStep = _this$props.progressJumpStep;\n      var jumpStep = progressJumpSteps.backward || progressJumpStep;\n\n      _this.setJumpTime(-jumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickForward\", function () {\n      var _this$props2 = _this.props,\n          progressJumpSteps = _this$props2.progressJumpSteps,\n          progressJumpStep = _this$props2.progressJumpStep;\n      var jumpStep = progressJumpSteps.forward || progressJumpStep;\n\n      _this.setJumpTime(jumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpTime\", function (time) {\n      var audio = _this.audio.current;\n      var duration = audio.duration,\n          prevTime = audio.currentTime;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        audio.currentTime = currentTime;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpVolume\", function (volume) {\n      var newVolume = _this.audio.current.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      _this.audio.current.volume = newVolume;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === _this.container.current || e.target === _this.progressBar.current) {\n            e.preventDefault();\n\n            _this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          _this.handleClickRewind();\n\n          break;\n\n        case 39:\n          _this.handleClickForward();\n\n          break;\n\n        case 38:\n          e.preventDefault();\n\n          _this.setJumpVolume(_this.props.volumeJumpStep);\n\n          break;\n\n        case 40:\n          e.preventDefault();\n\n          _this.setJumpVolume(-_this.props.volumeJumpStep);\n\n          break;\n\n        case 76:\n          _this.handleClickLoopButton();\n\n          break;\n\n        case 77:\n          _this.handleClickVolumeButton();\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModules\", function (modules) {\n      return modules.map(function (comp, i) {\n        return _this.renderUIModule(comp, i);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModule\", function (comp, key) {\n      var _this$props3 = _this.props,\n          defaultCurrentTime = _this$props3.defaultCurrentTime,\n          progressUpdateInterval = _this$props3.progressUpdateInterval,\n          showDownloadProgress = _this$props3.showDownloadProgress,\n          showFilledProgress = _this$props3.showFilledProgress,\n          defaultDuration = _this$props3.defaultDuration,\n          customIcons = _this$props3.customIcons,\n          showSkipControls = _this$props3.showSkipControls,\n          onClickPrevious = _this$props3.onClickPrevious,\n          onClickNext = _this$props3.onClickNext,\n          showJumpControls = _this$props3.showJumpControls,\n          customAdditionalControls = _this$props3.customAdditionalControls,\n          customVolumeControls = _this$props3.customVolumeControls,\n          muted = _this$props3.muted,\n          timeFormat = _this$props3.timeFormat,\n          volumeProp = _this$props3.volume,\n          loopProp = _this$props3.loop,\n          mse = _this$props3.mse;\n\n      switch (comp) {\n        case RHAP_UI.CURRENT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-time\",\n            className: \"rhap_time rhap_current-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: false,\n            defaultCurrentTime: defaultCurrentTime,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.CURRENT_LEFT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-left-time\",\n            className: \"rhap_time rhap_current-left-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: true,\n            defaultCurrentTime: defaultCurrentTime,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.PROGRESS_BAR:\n          return React.createElement(ProgressBar, {\n            key: key,\n            ref: _this.progressBar,\n            audio: _this.audio.current,\n            progressUpdateInterval: progressUpdateInterval,\n            showDownloadProgress: showDownloadProgress,\n            showFilledProgress: showFilledProgress,\n            onSeek: mse && mse.onSeek,\n            srcDuration: mse && mse.srcDuration\n          });\n\n        case RHAP_UI.DURATION:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_time rhap_total-time\"\n          }, mse && mse.srcDuration ? getDisplayTimeBySeconds(mse.srcDuration, mse.srcDuration, _this.props.timeFormat) : React.createElement(Duration, {\n            audio: _this.audio.current,\n            defaultDuration: defaultDuration,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.ADDITIONAL_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_additional-controls\"\n          }, _this.renderUIModules(customAdditionalControls));\n\n        case RHAP_UI.MAIN_CONTROLS:\n          {\n            var isPlaying = _this.isPlaying();\n\n            var actionIcon;\n\n            if (isPlaying) {\n              actionIcon = customIcons.pause ? customIcons.pause : React.createElement(Icon, {\n                icon: pauseCircle\n              });\n            } else {\n              actionIcon = customIcons.play ? customIcons.play : React.createElement(Icon, {\n                icon: playCircle\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_main-controls\"\n            }, showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Previous\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              type: \"button\",\n              onClick: onClickPrevious\n            }, customIcons.previous ? customIcons.previous : React.createElement(Icon, {\n              icon: skipPrevious\n            })), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Rewind\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n              type: \"button\",\n              onClick: _this.handleClickRewind\n            }, customIcons.rewind ? customIcons.rewind : React.createElement(Icon, {\n              icon: rewind\n            })), React.createElement(\"button\", {\n              \"aria-label\": isPlaying ? 'Pause' : 'Play',\n              className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n              type: \"button\",\n              onClick: _this.togglePlay\n            }, actionIcon), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Forward\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n              type: \"button\",\n              onClick: _this.handleClickForward\n            }, customIcons.forward ? customIcons.forward : React.createElement(Icon, {\n              icon: fastForward\n            })), showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Skip\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              type: \"button\",\n              onClick: onClickNext\n            }, customIcons.next ? customIcons.next : React.createElement(Icon, {\n              icon: skipNext\n            })));\n          }\n\n        case RHAP_UI.VOLUME_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_volume-controls\"\n          }, _this.renderUIModules(customVolumeControls));\n\n        case RHAP_UI.LOOP:\n          {\n            var loop = _this.audio.current ? _this.audio.current.loop : loopProp;\n            var loopIcon;\n\n            if (loop) {\n              loopIcon = customIcons.loop ? customIcons.loop : React.createElement(Icon, {\n                icon: repeat\n              });\n            } else {\n              loopIcon = customIcons.loopOff ? customIcons.loopOff : React.createElement(Icon, {\n                icon: repeatOff\n              });\n            }\n\n            return React.createElement(\"button\", {\n              key: key,\n              \"aria-label\": loop ? 'Enable Loop' : 'Disable Loop',\n              className: \"rhap_button-clear rhap_repeat-button\",\n              type: \"button\",\n              onClick: _this.handleClickLoopButton\n            }, loopIcon);\n          }\n\n        case RHAP_UI.VOLUME:\n          {\n            var _ref = _this.audio.current || {},\n                _ref$volume = _ref.volume,\n                volume = _ref$volume === void 0 ? muted ? 0 : volumeProp : _ref$volume;\n\n            var volumeIcon;\n\n            if (volume) {\n              volumeIcon = customIcons.volume ? customIcons.volume : React.createElement(Icon, {\n                icon: volumeHigh\n              });\n            } else {\n              volumeIcon = customIcons.volume ? customIcons.volumeMute : React.createElement(Icon, {\n                icon: volumeMute\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_volume-container\"\n            }, React.createElement(\"button\", {\n              \"aria-label\": volume ? 'Mute' : 'Unmute',\n              onClick: _this.handleClickVolumeButton,\n              type: \"button\",\n              className: \"rhap_button-clear rhap_volume-button\"\n            }, volumeIcon), React.createElement(VolumeBar, {\n              audio: _this.audio.current,\n              volume: volume,\n              onMuteChange: _this.handleMuteChange\n            }));\n          }\n\n        default:\n          if (!isValidElement(comp)) {\n            return null;\n          }\n\n          return comp.key ? comp : cloneElement(comp, {\n            key: key\n          });\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = H5AudioPlayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.forceUpdate();\n    var audio = this.audio.current;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', function (e) {\n      _this2.props.onError && _this2.props.onError(e);\n    });\n    audio.addEventListener('canplay', function (e) {\n      _this2.props.onCanPlay && _this2.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', function (e) {\n      _this2.props.onCanPlayThrough && _this2.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', this.handlePlay);\n    audio.addEventListener('abort', this.handleAbort);\n    audio.addEventListener('ended', function (e) {\n      _this2.props.onEnded && _this2.props.onEnded(e);\n    });\n    audio.addEventListener('pause', this.handlePause);\n    audio.addEventListener('timeupdate', throttle(function (e) {\n      _this2.props.onListen && _this2.props.onListen(e);\n    }, this.props.listenInterval));\n    audio.addEventListener('volumechange', function (e) {\n      _this2.props.onVolumeChange && _this2.props.onVolumeChange(e);\n    });\n    audio.addEventListener('encrypted', function (e) {\n      var mse = _this2.props.mse;\n      mse && mse.onEcrypted && mse.onEcrypted(e);\n    });\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props4 = this.props,\n        src = _this$props4.src,\n        autoPlayAfterSrcChange = _this$props4.autoPlayAfterSrcChange;\n\n    if (prevProps.src !== src) {\n      if (autoPlayAfterSrcChange) {\n        this.playAudioPromise();\n      } else {\n        this.forceUpdate();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var audio = this.audio.current;\n\n    if (audio) {\n      audio.removeEventListener('play', this.handlePlay);\n      audio.removeEventListener('pause', this.handlePause);\n      audio.removeEventListener('abort', this.handleAbort);\n      audio.removeAttribute('src');\n      audio.load();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props5 = this.props,\n        className = _this$props5.className,\n        src = _this$props5.src,\n        loopProp = _this$props5.loop,\n        preload = _this$props5.preload,\n        autoPlay = _this$props5.autoPlay,\n        crossOrigin = _this$props5.crossOrigin,\n        mediaGroup = _this$props5.mediaGroup,\n        header = _this$props5.header,\n        footer = _this$props5.footer,\n        layout = _this$props5.layout,\n        customProgressBarSection = _this$props5.customProgressBarSection,\n        customControlsSection = _this$props5.customControlsSection,\n        children = _this$props5.children,\n        style = _this$props5.style;\n    var loop = this.audio.current ? this.audio.current.loop : loopProp;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \" + className,\n      onKeyDown: this.handleKeyDown,\n      ref: this.container,\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: loop,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: this.audio\n    }, children), header && React.createElement(\"div\", {\n      className: \"rhap_header\"\n    }, header), React.createElement(\"div\", {\n      className: \"rhap_main \" + getMainLayoutClassName(layout)\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, this.renderUIModules(customProgressBarSection)), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, this.renderUIModules(customControlsSection))), footer && React.createElement(\"div\", {\n      className: \"rhap_footer\"\n    }, footer));\n  };\n\n  return H5AudioPlayer;\n}(Component);\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  progressJumpSteps: {},\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  defaultCurrentTime: '--:--',\n  defaultDuration: '--:--',\n  timeFormat: 'auto',\n  volume: 1,\n  className: '',\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true,\n  showFilledProgress: true,\n  customIcons: {},\n  customProgressBarSection: [RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION],\n  customControlsSection: [RHAP_UI.ADDITIONAL_CONTROLS, RHAP_UI.MAIN_CONTROLS, RHAP_UI.VOLUME_CONTROLS],\n  customAdditionalControls: [RHAP_UI.LOOP],\n  customVolumeControls: [RHAP_UI.VOLUME],\n  layout: 'stacked'\n});\n\nexport default H5AudioPlayer;\nexport { RHAP_UI };","map":{"version":3,"sources":["/Users/maxwelltesta/Desktop/easytunes/node_modules/react-h5-audio-player/es/index.js"],"names":["_assertThisInitialized","_inheritsLoose","_defineProperty","React","Component","cloneElement","isValidElement","createRef","Icon","playCircle","pauseCircle","skipPrevious","skipNext","fastForward","rewind","volumeHigh","volumeMute","repeat","repeatOff","ProgressBar","CurrentTime","Duration","VolumeBar","RHAP_UI","throttle","getMainLayoutClassName","getDisplayTimeBySeconds","H5AudioPlayer","_Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","props","volume","e","stopPropagation","audio","current","paused","src","playAudioPromise","pause","play","then","catch","err","onPlayError","Error","ended","forceUpdate","onPlay","onPause","onAbort","lastVolume","loop","_this$props","progressJumpSteps","progressJumpStep","jumpStep","backward","setJumpTime","_this$props2","forward","time","duration","prevTime","currentTime","isFinite","newVolume","keyCode","target","container","progressBar","preventDefault","togglePlay","handleClickRewind","handleClickForward","setJumpVolume","volumeJumpStep","handleClickLoopButton","handleClickVolumeButton","modules","map","comp","i","renderUIModule","key","_this$props3","defaultCurrentTime","progressUpdateInterval","showDownloadProgress","showFilledProgress","defaultDuration","customIcons","showSkipControls","onClickPrevious","onClickNext","showJumpControls","customAdditionalControls","customVolumeControls","muted","timeFormat","volumeProp","loopProp","mse","CURRENT_TIME","createElement","id","className","isLeftTime","CURRENT_LEFT_TIME","PROGRESS_BAR","ref","onSeek","srcDuration","DURATION","ADDITIONAL_CONTROLS","renderUIModules","MAIN_CONTROLS","isPlaying","actionIcon","icon","type","onClick","previous","next","VOLUME_CONTROLS","LOOP","loopIcon","loopOff","VOLUME","_ref","_ref$volume","volumeIcon","onMuteChange","handleMuteChange","_proto","prototype","componentDidMount","_this2","addEventListener","onError","onCanPlay","onCanPlayThrough","handlePlay","handleAbort","onEnded","handlePause","onListen","listenInterval","onVolumeChange","onEcrypted","componentDidUpdate","prevProps","_this$props4","autoPlayAfterSrcChange","componentWillUnmount","removeEventListener","removeAttribute","load","render","_this$props5","preload","autoPlay","crossOrigin","mediaGroup","header","footer","layout","customProgressBarSection","customControlsSection","children","style","role","tabIndex","onKeyDown","handleKeyDown","controls"],"mappings":"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","sourcesContent":["import _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component, cloneElement, isValidElement, createRef } from 'react';\nimport { Icon } from '@iconify/react';\nimport playCircle from '@iconify/icons-mdi/play-circle';\nimport pauseCircle from '@iconify/icons-mdi/pause-circle';\nimport skipPrevious from '@iconify/icons-mdi/skip-previous';\nimport skipNext from '@iconify/icons-mdi/skip-next';\nimport fastForward from '@iconify/icons-mdi/fast-forward';\nimport rewind from '@iconify/icons-mdi/rewind';\nimport volumeHigh from '@iconify/icons-mdi/volume-high';\nimport volumeMute from '@iconify/icons-mdi/volume-mute';\nimport repeat from '@iconify/icons-mdi/repeat';\nimport repeatOff from '@iconify/icons-mdi/repeat-off';\nimport ProgressBar from './ProgressBar';\nimport CurrentTime from './CurrentTime';\nimport Duration from './Duration';\nimport VolumeBar from './VolumeBar';\nimport { RHAP_UI } from './constants';\nimport { throttle, getMainLayoutClassName, getDisplayTimeBySeconds } from './utils';\n\nvar H5AudioPlayer = function (_Component) {\n  _inheritsLoose(H5AudioPlayer, _Component);\n\n  function H5AudioPlayer() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"audio\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"progressBar\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"container\", createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"lastVolume\", _this.props.volume);\n\n    _defineProperty(_assertThisInitialized(_this), \"listenTracker\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"volumeAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"downloadProgressAnimationTimer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"togglePlay\", function (e) {\n      e.stopPropagation();\n      var audio = _this.audio.current;\n\n      if (audio.paused && audio.src) {\n        _this.playAudioPromise();\n      } else if (!audio.paused) {\n        audio.pause();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playAudioPromise\", function () {\n      _this.audio.current.play().then(null).catch(function (err) {\n        var onPlayError = _this.props.onPlayError;\n        onPlayError && onPlayError(new Error(err));\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isPlaying\", function () {\n      var audio = _this.audio.current;\n      if (!audio) return false;\n      return !audio.paused && !audio.ended;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePlay\", function (e) {\n      _this.forceUpdate();\n\n      _this.props.onPlay && _this.props.onPlay(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handlePause\", function (e) {\n      if (!_this.audio) return;\n\n      _this.forceUpdate();\n\n      _this.props.onPause && _this.props.onPause(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleAbort\", function (e) {\n      _this.props.onAbort && _this.props.onAbort(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickVolumeButton\", function () {\n      var audio = _this.audio.current;\n\n      if (audio.volume > 0) {\n        _this.lastVolume = audio.volume;\n        audio.volume = 0;\n      } else {\n        audio.volume = _this.lastVolume;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMuteChange\", function () {\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickLoopButton\", function () {\n      _this.audio.current.loop = !_this.audio.current.loop;\n\n      _this.forceUpdate();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickRewind\", function () {\n      var _this$props = _this.props,\n          progressJumpSteps = _this$props.progressJumpSteps,\n          progressJumpStep = _this$props.progressJumpStep;\n      var jumpStep = progressJumpSteps.backward || progressJumpStep;\n\n      _this.setJumpTime(-jumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickForward\", function () {\n      var _this$props2 = _this.props,\n          progressJumpSteps = _this$props2.progressJumpSteps,\n          progressJumpStep = _this$props2.progressJumpStep;\n      var jumpStep = progressJumpSteps.forward || progressJumpStep;\n\n      _this.setJumpTime(jumpStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpTime\", function (time) {\n      var audio = _this.audio.current;\n      var duration = audio.duration,\n          prevTime = audio.currentTime;\n      if (!isFinite(duration) || !isFinite(prevTime)) return;\n      var currentTime = prevTime + time / 1000;\n\n      if (currentTime < 0) {\n        audio.currentTime = 0;\n        currentTime = 0;\n      } else if (currentTime > duration) {\n        audio.currentTime = duration;\n        currentTime = duration;\n      } else {\n        audio.currentTime = currentTime;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setJumpVolume\", function (volume) {\n      var newVolume = _this.audio.current.volume + volume;\n      if (newVolume < 0) newVolume = 0;else if (newVolume > 1) newVolume = 1;\n      _this.audio.current.volume = newVolume;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (e) {\n      switch (e.keyCode) {\n        case 32:\n          if (e.target === _this.container.current || e.target === _this.progressBar.current) {\n            e.preventDefault();\n\n            _this.togglePlay(e);\n          }\n\n          break;\n\n        case 37:\n          _this.handleClickRewind();\n\n          break;\n\n        case 39:\n          _this.handleClickForward();\n\n          break;\n\n        case 38:\n          e.preventDefault();\n\n          _this.setJumpVolume(_this.props.volumeJumpStep);\n\n          break;\n\n        case 40:\n          e.preventDefault();\n\n          _this.setJumpVolume(-_this.props.volumeJumpStep);\n\n          break;\n\n        case 76:\n          _this.handleClickLoopButton();\n\n          break;\n\n        case 77:\n          _this.handleClickVolumeButton();\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModules\", function (modules) {\n      return modules.map(function (comp, i) {\n        return _this.renderUIModule(comp, i);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderUIModule\", function (comp, key) {\n      var _this$props3 = _this.props,\n          defaultCurrentTime = _this$props3.defaultCurrentTime,\n          progressUpdateInterval = _this$props3.progressUpdateInterval,\n          showDownloadProgress = _this$props3.showDownloadProgress,\n          showFilledProgress = _this$props3.showFilledProgress,\n          defaultDuration = _this$props3.defaultDuration,\n          customIcons = _this$props3.customIcons,\n          showSkipControls = _this$props3.showSkipControls,\n          onClickPrevious = _this$props3.onClickPrevious,\n          onClickNext = _this$props3.onClickNext,\n          showJumpControls = _this$props3.showJumpControls,\n          customAdditionalControls = _this$props3.customAdditionalControls,\n          customVolumeControls = _this$props3.customVolumeControls,\n          muted = _this$props3.muted,\n          timeFormat = _this$props3.timeFormat,\n          volumeProp = _this$props3.volume,\n          loopProp = _this$props3.loop,\n          mse = _this$props3.mse;\n\n      switch (comp) {\n        case RHAP_UI.CURRENT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-time\",\n            className: \"rhap_time rhap_current-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: false,\n            defaultCurrentTime: defaultCurrentTime,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.CURRENT_LEFT_TIME:\n          return React.createElement(\"div\", {\n            key: key,\n            id: \"rhap_current-left-time\",\n            className: \"rhap_time rhap_current-left-time\"\n          }, React.createElement(CurrentTime, {\n            audio: _this.audio.current,\n            isLeftTime: true,\n            defaultCurrentTime: defaultCurrentTime,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.PROGRESS_BAR:\n          return React.createElement(ProgressBar, {\n            key: key,\n            ref: _this.progressBar,\n            audio: _this.audio.current,\n            progressUpdateInterval: progressUpdateInterval,\n            showDownloadProgress: showDownloadProgress,\n            showFilledProgress: showFilledProgress,\n            onSeek: mse && mse.onSeek,\n            srcDuration: mse && mse.srcDuration\n          });\n\n        case RHAP_UI.DURATION:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_time rhap_total-time\"\n          }, mse && mse.srcDuration ? getDisplayTimeBySeconds(mse.srcDuration, mse.srcDuration, _this.props.timeFormat) : React.createElement(Duration, {\n            audio: _this.audio.current,\n            defaultDuration: defaultDuration,\n            timeFormat: timeFormat\n          }));\n\n        case RHAP_UI.ADDITIONAL_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_additional-controls\"\n          }, _this.renderUIModules(customAdditionalControls));\n\n        case RHAP_UI.MAIN_CONTROLS:\n          {\n            var isPlaying = _this.isPlaying();\n\n            var actionIcon;\n\n            if (isPlaying) {\n              actionIcon = customIcons.pause ? customIcons.pause : React.createElement(Icon, {\n                icon: pauseCircle\n              });\n            } else {\n              actionIcon = customIcons.play ? customIcons.play : React.createElement(Icon, {\n                icon: playCircle\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_main-controls\"\n            }, showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Previous\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              type: \"button\",\n              onClick: onClickPrevious\n            }, customIcons.previous ? customIcons.previous : React.createElement(Icon, {\n              icon: skipPrevious\n            })), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Rewind\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_rewind-button\",\n              type: \"button\",\n              onClick: _this.handleClickRewind\n            }, customIcons.rewind ? customIcons.rewind : React.createElement(Icon, {\n              icon: rewind\n            })), React.createElement(\"button\", {\n              \"aria-label\": isPlaying ? 'Pause' : 'Play',\n              className: \"rhap_button-clear rhap_main-controls-button rhap_play-pause-button\",\n              type: \"button\",\n              onClick: _this.togglePlay\n            }, actionIcon), showJumpControls && React.createElement(\"button\", {\n              \"aria-label\": \"Forward\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_forward-button\",\n              type: \"button\",\n              onClick: _this.handleClickForward\n            }, customIcons.forward ? customIcons.forward : React.createElement(Icon, {\n              icon: fastForward\n            })), showSkipControls && React.createElement(\"button\", {\n              \"aria-label\": \"Skip\",\n              className: \"rhap_button-clear rhap_main-controls-button rhap_skip-button\",\n              type: \"button\",\n              onClick: onClickNext\n            }, customIcons.next ? customIcons.next : React.createElement(Icon, {\n              icon: skipNext\n            })));\n          }\n\n        case RHAP_UI.VOLUME_CONTROLS:\n          return React.createElement(\"div\", {\n            key: key,\n            className: \"rhap_volume-controls\"\n          }, _this.renderUIModules(customVolumeControls));\n\n        case RHAP_UI.LOOP:\n          {\n            var loop = _this.audio.current ? _this.audio.current.loop : loopProp;\n            var loopIcon;\n\n            if (loop) {\n              loopIcon = customIcons.loop ? customIcons.loop : React.createElement(Icon, {\n                icon: repeat\n              });\n            } else {\n              loopIcon = customIcons.loopOff ? customIcons.loopOff : React.createElement(Icon, {\n                icon: repeatOff\n              });\n            }\n\n            return React.createElement(\"button\", {\n              key: key,\n              \"aria-label\": loop ? 'Enable Loop' : 'Disable Loop',\n              className: \"rhap_button-clear rhap_repeat-button\",\n              type: \"button\",\n              onClick: _this.handleClickLoopButton\n            }, loopIcon);\n          }\n\n        case RHAP_UI.VOLUME:\n          {\n            var _ref = _this.audio.current || {},\n                _ref$volume = _ref.volume,\n                volume = _ref$volume === void 0 ? muted ? 0 : volumeProp : _ref$volume;\n\n            var volumeIcon;\n\n            if (volume) {\n              volumeIcon = customIcons.volume ? customIcons.volume : React.createElement(Icon, {\n                icon: volumeHigh\n              });\n            } else {\n              volumeIcon = customIcons.volume ? customIcons.volumeMute : React.createElement(Icon, {\n                icon: volumeMute\n              });\n            }\n\n            return React.createElement(\"div\", {\n              key: key,\n              className: \"rhap_volume-container\"\n            }, React.createElement(\"button\", {\n              \"aria-label\": volume ? 'Mute' : 'Unmute',\n              onClick: _this.handleClickVolumeButton,\n              type: \"button\",\n              className: \"rhap_button-clear rhap_volume-button\"\n            }, volumeIcon), React.createElement(VolumeBar, {\n              audio: _this.audio.current,\n              volume: volume,\n              onMuteChange: _this.handleMuteChange\n            }));\n          }\n\n        default:\n          if (!isValidElement(comp)) {\n            return null;\n          }\n\n          return comp.key ? comp : cloneElement(comp, {\n            key: key\n          });\n      }\n    });\n\n    return _this;\n  }\n\n  var _proto = H5AudioPlayer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.forceUpdate();\n    var audio = this.audio.current;\n\n    if (this.props.muted) {\n      audio.volume = 0;\n    } else {\n      audio.volume = this.lastVolume;\n    }\n\n    audio.addEventListener('error', function (e) {\n      _this2.props.onError && _this2.props.onError(e);\n    });\n    audio.addEventListener('canplay', function (e) {\n      _this2.props.onCanPlay && _this2.props.onCanPlay(e);\n    });\n    audio.addEventListener('canplaythrough', function (e) {\n      _this2.props.onCanPlayThrough && _this2.props.onCanPlayThrough(e);\n    });\n    audio.addEventListener('play', this.handlePlay);\n    audio.addEventListener('abort', this.handleAbort);\n    audio.addEventListener('ended', function (e) {\n      _this2.props.onEnded && _this2.props.onEnded(e);\n    });\n    audio.addEventListener('pause', this.handlePause);\n    audio.addEventListener('timeupdate', throttle(function (e) {\n      _this2.props.onListen && _this2.props.onListen(e);\n    }, this.props.listenInterval));\n    audio.addEventListener('volumechange', function (e) {\n      _this2.props.onVolumeChange && _this2.props.onVolumeChange(e);\n    });\n    audio.addEventListener('encrypted', function (e) {\n      var mse = _this2.props.mse;\n      mse && mse.onEcrypted && mse.onEcrypted(e);\n    });\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this$props4 = this.props,\n        src = _this$props4.src,\n        autoPlayAfterSrcChange = _this$props4.autoPlayAfterSrcChange;\n\n    if (prevProps.src !== src) {\n      if (autoPlayAfterSrcChange) {\n        this.playAudioPromise();\n      } else {\n        this.forceUpdate();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var audio = this.audio.current;\n\n    if (audio) {\n      audio.removeEventListener('play', this.handlePlay);\n      audio.removeEventListener('pause', this.handlePause);\n      audio.removeEventListener('abort', this.handleAbort);\n      audio.removeAttribute('src');\n      audio.load();\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props5 = this.props,\n        className = _this$props5.className,\n        src = _this$props5.src,\n        loopProp = _this$props5.loop,\n        preload = _this$props5.preload,\n        autoPlay = _this$props5.autoPlay,\n        crossOrigin = _this$props5.crossOrigin,\n        mediaGroup = _this$props5.mediaGroup,\n        header = _this$props5.header,\n        footer = _this$props5.footer,\n        layout = _this$props5.layout,\n        customProgressBarSection = _this$props5.customProgressBarSection,\n        customControlsSection = _this$props5.customControlsSection,\n        children = _this$props5.children,\n        style = _this$props5.style;\n    var loop = this.audio.current ? this.audio.current.loop : loopProp;\n    return React.createElement(\"div\", {\n      role: \"group\",\n      tabIndex: 0,\n      \"aria-label\": \"Audio Player\",\n      className: \"rhap_container \" + className,\n      onKeyDown: this.handleKeyDown,\n      ref: this.container,\n      style: style\n    }, React.createElement(\"audio\", {\n      src: src,\n      controls: false,\n      loop: loop,\n      autoPlay: autoPlay,\n      preload: preload,\n      crossOrigin: crossOrigin,\n      mediaGroup: mediaGroup,\n      ref: this.audio\n    }, children), header && React.createElement(\"div\", {\n      className: \"rhap_header\"\n    }, header), React.createElement(\"div\", {\n      className: \"rhap_main \" + getMainLayoutClassName(layout)\n    }, React.createElement(\"div\", {\n      className: \"rhap_progress-section\"\n    }, this.renderUIModules(customProgressBarSection)), React.createElement(\"div\", {\n      className: \"rhap_controls-section\"\n    }, this.renderUIModules(customControlsSection))), footer && React.createElement(\"div\", {\n      className: \"rhap_footer\"\n    }, footer));\n  };\n\n  return H5AudioPlayer;\n}(Component);\n\n_defineProperty(H5AudioPlayer, \"defaultProps\", {\n  autoPlay: false,\n  autoPlayAfterSrcChange: true,\n  listenInterval: 1000,\n  progressJumpStep: 5000,\n  progressJumpSteps: {},\n  volumeJumpStep: 0.1,\n  loop: false,\n  muted: false,\n  preload: 'auto',\n  progressUpdateInterval: 20,\n  defaultCurrentTime: '--:--',\n  defaultDuration: '--:--',\n  timeFormat: 'auto',\n  volume: 1,\n  className: '',\n  showJumpControls: true,\n  showSkipControls: false,\n  showDownloadProgress: true,\n  showFilledProgress: true,\n  customIcons: {},\n  customProgressBarSection: [RHAP_UI.CURRENT_TIME, RHAP_UI.PROGRESS_BAR, RHAP_UI.DURATION],\n  customControlsSection: [RHAP_UI.ADDITIONAL_CONTROLS, RHAP_UI.MAIN_CONTROLS, RHAP_UI.VOLUME_CONTROLS],\n  customAdditionalControls: [RHAP_UI.LOOP],\n  customVolumeControls: [RHAP_UI.VOLUME],\n  layout: 'stacked'\n});\n\nexport default H5AudioPlayer;\nexport { RHAP_UI };"]},"metadata":{},"sourceType":"module"}